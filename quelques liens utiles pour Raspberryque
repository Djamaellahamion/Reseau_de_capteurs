

https://learnembeddedsystems.co.uk/easy-raspberry-pi-iot-server

sudo mosquitto_passwd -c /etc/mosquitto/passwd pi_broker
(le mot de passe est Rose1981)

(pour installer Mosquitto sur Raspberrt Pi 3) https://randomnerdtutorials.com/how-to-install-mosquitto-broker-on-raspberry-pi/

(pour installer node red sur Raspberrt Pi 3) https://randomnerdtutorials.com/install-node-red-raspberry-pi/

(pour installer influxdb2 sur Raspberrt Pi 3) https://randomnerdtutorials.com/install-influxdb-2-raspberry-pi/
(Token influxdb) Ne4fCPxAZRZp66FeEEwogn7vpU9i80Dw4exDI9LxQ0zFM_76TAP_IgUI0pzm1H9wCSs52071muevMlCTKki4Vw==

(pour installer home assistant supervised: https://peyanski.com/how-to-install-home-assistant-supervised-official-way/#How_to_Install_Home_Assistant_Supervised)
(prendre aarch64 pour raspberry pi3) et quelques commandes:
sudo usermod -aG docker nazario
wget https://github.com/home-assistant/os-agent/releases/download/1.5.1/os-agent_1.5.1_linux_aarch64.deb
sudo dpkg -i os-agent_1.5.1_linux_aarch64.deb
et faire:  sudo apt --fix-broken install après car on n'arrive pas à la page de configuration de homeassistant-supervided
wget https://github.com/home-assistant/supervised-installer/releases/latest/download/homeassistant-supervised.deb
sudo dpkg -i homeassistant-supervised.deb
puis choisir raspberrypi3-64 pour notre pi3
pour accéder à home assistant : adresse ip raspberry:8123



---- pour HELTEC LoRa V3 ----
ne pas utiliser la bibliothèque 0.07 mais le lien suivant à mettre dans préférence
https://raw.githubusercontent.com/espressif/arduino-esp32/gh-pages/package_esp32_dev_index.json

 et choisr la carte HELTEC LoRa V3 dans les ESP32, mais du coup la library HT_SSD1306Wire.h n'est plus valide. 
 Pour cela il faut mettre la library qui se trouve C:\Users\Nazario\AppData\Local\Arduino15\packages\Heltec-esp32\hardware\esp32\0.0.7\libraries
 dans C:\Users\Nazario\AppData\Local\Arduino15\packages\esp32\hardware\esp32\2.0.9\libraries
 
 
 Lien HELTEC LoRa V3 pour LoRa et pins
 https://github.com/JJJS777/Hello_World_RadioLib_Heltec-V3_SX1262/tree/main
 
 
 Pour TTGO LoRa32 V1.6.1 (semtech sx1278 avec radiolob)
 https://github.com/Xinyuan-LilyGO/LilyGo-LoRa-Series/blob/master/examples/RadioLibExamples/SX1276/SX1276_Transmit_Interrupt/utilities.h
 
 
 Lien pour créer le hotspot raspberry (sudo raspi-config pour mettre FR en WLAN) (sudo update et upgrade aussi)
 https://raspberrypi-guide.github.io/networking/create-wireless-access-point
 
 autres liens pour hotspot:
 https://www.raspberryconnect.com/projects/65-raspberrypi-hotspot-accesspoints/157-raspberry-pi-auto-wifi-hotspot-switch-internet
 https://www.tomshardware.com/how-to/raspberry-pi-access-point
 
 
 MQTT:
 https://randomnerdtutorials.com/esp32-mqtt-publish-subscribe-arduino-ide/
 
 
 
 
 pour tout installer avec docker IOTstack et ca marche
https://learnembeddedsystems.co.uk/easy-raspberry-pi-iot-server


Pour rajouter un mot de passe à Mosquitto installé sur le docker iotstack
https://sensorsiot.github.io/IOTstack/Containers/Mosquitto/
docker exec mosquitto mosquitto_passwd -b /mosquitto/pwfile/pwfile nazario Rose1981


Pour rajouter un mot de passe à node-red
docker exec nodered node -e "console.log(require('bcryptjs').hashSync(process.argv[1], 8));" Rose1981

$2a$08$8cg74XhXSa3m68I8Q2lGmO9QpyRxgiEDFc4vgO4kFWfrmgTAPmrL2



eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiI3MDQ0YTdkYTA1ZWU0YzYyYjVjY2Q2ZjgxZGEyNWNkYiIsImlhdCI6MTY4NTgxMjU5MywiZXhwIjoyMDAxMTcyNTkzfQ.Tal7bf9uI3Q55e0qJ_HqfFLZjzN7GSnuJbRucQyHp_o


pour voir les droits des dossiers raspberry : nazario@raspberrypi:~ $ ls –al (avec putty)
sudo chmod -R 777 IOTstack   (cela donne tous les droits sur les répertoires et fichiers de IOTstack)

docker-compose ps pour voir ce qui est installé via docker et les ports associés

pour mot de passe influxdb2, changer dans le fichier :
docker-compose.yml
pour faire effectif les changements, aller dans le répertoire IOTstack
cd IOTstack
puis taper docker-compose up –d
comme on a modifié docker-compose.yml, il va reconstruire influxdb2



